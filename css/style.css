:root {
  --sea-top: #0AA2C0;
  --sea-mid: #02445D;
  --sea-deep: #031A2A;
  --sea-bottom: #010C14;
  --white: #F8F9FA;
}

* {
  box-sizing: border-box;
}

html {
  font-size: clamp(12px, 2vw, 16px);
}

html,
body {
  height: 100%;
  margin: 0;
}

body {
  color: var(--white);
  overflow: hidden;
}

@font-face {
  font-family: 'SchoolSafetyAquariumDecor';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2508-2@1.0/HakgyoansimEohangkkumigiB.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Black.woff') format('woff');
  font-weight: 900;
  font-display: swap;
}

/* 고정 배경 */
.bg {
  position: fixed;
  inset: 0;
  z-index: -1;
  overflow: hidden;
  background: linear-gradient(to bottom, var(--sea-top) 0%, var(--sea-mid) 35%, var(--sea-deep) 70%, var(--sea-bottom) 100%);
  transition: background 800ms ease;
}

.surface {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 30vh;
  pointer-events: none;
  overflow: hidden;
  z-index: 1;
  transition: opacity 500ms ease;
}

.surface::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 50% 0%, rgba(255, 255, 255, .22) 0%, rgba(255, 255, 255, .14) 35%, rgba(255, 255, 255, 0) 70%);
}

.wave {
  position: absolute;
  top: 0;
  left: -50%;
  width: 200%;
  height: 100%;
  background: linear-gradient(to bottom, rgba(255, 255, 255, .14) 0%, rgba(255, 255, 255, .08) 35%, rgba(255, 255, 255, 0) 70%);
  mix-blend-mode: screen;
}

.w1 {
  transform: skewX(-6deg);
  animation: wave1 26s linear infinite;
  opacity: .4;
}

.w2 {
  transform: skewX(-8deg);
  animation: wave2 32s linear infinite;
  opacity: .3;
}

.w3 {
  transform: skewX(-5deg);
  animation: wave3 38s linear infinite;
  opacity: .22;
}

@keyframes wave1 {
  0% {
    transform: skewX(-6deg) translateX(0);
  }

  100% {
    transform: skewX(-6deg) translateX(12%);
  }
}

@keyframes wave2 {
  0% {
    transform: skewX(-8deg) translateX(0);
  }

  100% {
    transform: skewX(-8deg) translateX(-10%);
  }
}

@keyframes wave3 {
  0% {
    transform: skewX(-5deg) translateX(0);
  }

  100% {
    transform: skewX(-5deg) translateX(8%);
  }
}

/* 빛줄기 */
.ray {
  position: absolute;
  top: -20%;
  width: 12%;
  height: 140%;
  background: linear-gradient(to bottom, rgba(127, 219, 255, .20) 0%, transparent 80%);
  filter: blur(8px);
  transform: rotate(-8deg);
  animation: driftRay 14s ease-in-out infinite;
  opacity: .28;
  z-index: 0;
  transition: opacity 500ms ease;
}

.r1 {
  left: 12%
}

.r2 {
  left: 42%
}

.r3 {
  left: 72%
}

@keyframes driftRay {

  0%,
  100% {
    transform: translateX(0) rotate(-8deg)
  }

  50% {
    transform: translateX(16px) rotate(-10deg)
  }
}

/* 버블 */
.bubbles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3
}

.bubble {
  --x: 50%;
  --delay: 0s;
  --duration: 12s;
  position: absolute;
  bottom: -10%;
  left: var(--x);
  animation: rise var(--duration) linear var(--delay) infinite;
}

.bubble .b {
  --size: 8px;
  --drift: 18px;
  position: absolute;
  left: 50%;
  bottom: 0;
  width: var(--size);
  height: var(--size);
  margin-left: calc(var(--size)*-0.5);
  border-radius: 50%;
  background: rgba(255, 255, 255, .65);
  box-shadow: 0 0 5px rgba(255, 255, 255, .25);
  animation: wobble calc(var(--duration)*.9) ease-in-out var(--delay) infinite, squash calc(var(--duration)*.45) ease-in-out var(--delay) infinite;
}

@keyframes rise {
  0% {
    transform: translateY(0);
    opacity: .35
  }

  20% {
    opacity: .7
  }

  100% {
    transform: translateY(-115vh);
    opacity: 0
  }
}

@keyframes wobble {
  0% {
    transform: translateX(0)
  }

  50% {
    transform: translateX(var(--drift))
  }

  100% {
    transform: translateX(0)
  }
}

@keyframes squash {

  0%,
  100% {
    transform: scale(1)
  }

  50% {
    transform: scale(.95, 1.05)
  }
}

/* fullPage 섹션 레이아웃 */
#main {
  height: 100vh
}

.section {
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 6rem 2rem
}

.fp-section,
.section {
  text-align: initial
}

.fp-tableCell {
  height: auto !important;
  vertical-align: initial
}

/* 기본 타이포 */
.wrap {
  max-width: 1100px;
  width: 100%;
  text-align: center;
  margin: 0 auto
}

h1.title {
  font-size: clamp(2rem, 5vw, 4rem);
  font-family: 'SchoolSafetyAquariumDecor';
  letter-spacing: .18em;
  margin: 0 0 3rem;
  color: #E3DAFF
}

p {
  font-family: 'SchoolSafetyAquariumDecor';
}

p.k {
  font-size: 1.5rem;
  line-height: 2;
  margin: 0 auto;
  max-width: 720px;
  color: #A7FFEB;
  font-family: 'SchoolSafetyAquariumDecor';
}

/* INTRO 이름 (섹션 활성화 시 트리거) */
.intro-name {
  font-size: clamp(2.5rem, 7vw, 5rem);
  font-family: 'SchoolSafetyAquariumDecor';
  letter-spacing: .15em;
  margin: .25rem 0 5rem;
  opacity: 0;
  transform: translateY(30px) scale(.9);
  text-shadow: 0 0 20px rgba(255, 255, 255, .35);
  will-change: transform, opacity, filter;
  color: #E3DAFF;
}

.section-active .intro-name {
  animation: introRise 2.4s ease-out forwards, introFloat 5s ease-in-out 2.4s infinite
}

@keyframes introRise {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(.9);
    filter: blur(6px)
  }

  50% {
    opacity: 1;
    transform: translateY(-5px) scale(1.03);
    filter: blur(1px)
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0)
  }
}

@keyframes introFloat {

  0%,
  100% {
    transform: translateY(0) scale(1)
  }

  50% {
    transform: translateY(-4px) scale(1.02) rotate(-.4deg)
  }
}

/* ===== Floating Photos (Intro) ===== */
.float-photos {
  position: absolute;
  inset: 0;
  /* intro 섹션 가득 덮음 */
  pointer-events: none;
  /* 버튼/링크 클릭 방해 금지 */
  z-index: -1;
  /* 배경(1) 위, 텍스트(3) 아래 가정 */
}

.float-photo {
  position: absolute;
  left: var(--x, 50%);
  top: var(--y, 50%);
  transform: translate(-50%, -50%) rotate(var(--rot, 0deg));
  transition: transform 0.2s linear;
}

.float-photos.is-visible .float-photo {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
  filter: none;
}

.float-photos:not(.is-visible) .float-photo {
  animation-play-state: paused;
}

.float-photo img {
  display: block;
  width: var(--size, 120px);
  height: auto;
  aspect-ratio: 1 / 1;
  /* 정사각형; 필요하면 4/5, 3/4 등으로 변경 */
  object-fit: cover;
  border-radius: 50%;
  outline: 1px solid rgba(255, 255, 255, .15);
  background: rgba(255, 255, 255, .05);
  visibility: hidden;
}

.float-photos.is-visible .float-photo img {
  visibility: visible;
  /* ← is-visible 때 같이 나타남 */
}

.float-photo::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.25);
  /* 투명한 종이 */
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity .6s ease .05s;
}

.float-photos.is-visible .float-photo::after {
  opacity: 1;
  /* ← 토글로 함께 등장 */
}

/* WORKS 갤러리 */
.gallery {
  margin-top: 2rem;
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(3, 1fr)
}

.card {
  grid-column: span 1;
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  background: rgba(255, 255, 255, .06);
  outline: 1px solid rgba(255, 255, 255, .08);
  cursor: pointer;
  transition: transform .25s ease, outline-color .25s ease;
  display: block;
  height: auto;
}

.card iframe {
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 16 / 9;
  border: none;
  border-radius: 12px;
}

.card:hover {
  transform: translateY(-4px);
  outline-color: rgba(255, 255, 255, .2)
}

.thumb {
  aspect-ratio: 16 / 9;
  width: 100%;
  display: block;
  object-fit: cover;
  filter: saturate(.95) contrast(1.05)
}

.play {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none
}

.play svg {
  width: 44px;
  height: 44px;
  opacity: .85;
  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, .5))
}

/* ABOUT */

.about-wrap {
  display: flex;
  text-align: left;
  color: #A7FFEB;
  font-size: 1rem;
  font-family: 'SchoolSafetyAquariumDecor';
  line-height: 30px;
}

.profile-pic {
  width: 300px;
  height: 300px;
  border-radius: 50%;
  object-fit: cover;
  margin: 1rem auto 2rem;
  display: block;
  box-shadow: 0 4px 16px rgba(0, 0, 0, .35);
  border: 3px solid rgba(255, 255, 255, .3);
}

.about-grid {
  margin-top: 2rem;
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(2, 1fr)
}

.about-card {
  grid-column: span 1;
  background: rgba(255, 255, 255, .06);
  outline: 1px solid rgba(255, 255, 255, .08);
  border-radius: 16px;
  padding: 20px;
  text-align: left;
  transition: transform .25s ease, outline-color .25s ease, background .25s ease;
  backdrop-filter: blur(2px)
}

.about-card:hover {
  transform: translateY(-4px);
  outline-color: rgba(255, 255, 255, .2);
  background: rgba(255, 255, 255, .08)
}

.about-card h3 {
  margin: 0 0 .35rem;
  font-size: 1.05rem;
  letter-spacing: .06em;
  font-family: 'JejuStoneWall';
}

.about-card p {
  margin: 0;
  opacity: .85;
  line-height: 1.6;
  font-size: .95rem
}

.about-card img {
  width: 50px;
}

/* 라이트박스 */
dialog#viewer {
  border: none;
  padding: 0;
  width: min(1100px, 92vw);
  background: transparent
}

dialog#viewer::backdrop {
  background: rgba(0, 0, 0, .5);
  backdrop-filter: blur(2px)
}

.viewer-box {
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 10px 40px rgba(0, 0, 0, .55);
  background: #000
}

.viewer-media {
  width: 100%;
  height: auto;
  display: block;
  max-height: 80dvh
}

.viewer-close {
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(255, 255, 255, .16);
  border: none;
  color: #fff;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  z-index: 50;
  pointer-events: auto;
  backdrop-filter: blur(4px)
}

.viewer-close:hover {
  background: rgba(255, 255, 255, .28)
}

/* CONTACT */

.wrap .contact {
  border: none;
  background-color: rgba(255, 255, 255, .16);
  border-radius: 10px;
  width: 60%;
  height: 30px;
  line-height: 30px;
  margin: 30px auto;
}

/* 깊이에 따른 감쇄 */
body[data-depth="0"] .surface {
  opacity: .9
}

body[data-depth="1"] .surface {
  opacity: .6
}

body[data-depth="2"] .surface {
  opacity: .35
}

body[data-depth="3"] .surface {
  opacity: .12
}

body[data-depth="0"] .ray {
  opacity: .35
}

body[data-depth="1"] .ray {
  opacity: .22
}

body[data-depth="2"] .ray {
  opacity: .12
}

body[data-depth="3"] .ray {
  opacity: .04
}

/* Reveal 공통 */
.reveal {
  opacity: 0;
  transform: translateY(24px) scale(.98);
  filter: blur(6px);
  transition: opacity .6s ease, transform .6s ease, filter .6s ease;
  will-change: opacity, transform, filter
}

.reveal.is-visible {
  opacity: 1;
  transform: none;
  filter: none
}

.reveal.float {
  animation: introFloat 5s ease-in-out .2s infinite
}

.no-reveal {
  opacity: 1 !important;
  transform: none !important;
  filter: none !important
}